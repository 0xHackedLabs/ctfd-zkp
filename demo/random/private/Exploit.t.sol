// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.15;
import "forge-std/Test.sol";
import "../public/contracts/Setup.sol";
import "./Exploit.sol";


contract ExploitTest is Test{

    Setup setup;
    Exploit exp;

    function setUp() public {
        vm.createSelectFork("ETH_RPC_URL", 17699080);
        setup = Setup(0x7Df20ccCBBd5F73DBeE61802ccbF2617F30EE4c8);
    }
  
    function test_random() public {
        Random random = setup.random();
        console.log("random: %s", address(random));
        assertEq(setup.isSolved(), false);
        exp = new Exploit();
        exp.exploit();
        assertEq(setup.isSolved(), true);
    }
}